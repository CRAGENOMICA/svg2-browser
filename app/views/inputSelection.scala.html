@(
experimentos: Seq[ ExperimentData ],
formulario: play.data.Form[ExperimentForm],
mapDescripciones: String
)(implicit request: play.mvc.Http.Request, messages: play.i18n.Messages)

@import play.mvc.Http.Request
@import helper._

@main("SVG2 Browser") {
@header()


	@helper.form(action = routes.SVG2Browser.generateResults()) {
	  @CSRF.formField
	
	
      @helper.inputText(formulario("colorSVG"), '_label -> "Color:")

	  @select(
	   formulario("experimentID"),
	   options = experimentos.map( experiment => experiment.experimentID -> experiment.experimentID  ),
	   '_label -> "Select your experiment", '_default -> "-- Select experiment --"
	  )
  
    }
  <h1>Descripcion:</h1>
  <div><span id="descripcion"> Aqui dice: </span></div>
  
  <h1>Copy your genes here</h1>
  <textarea name="gene1" cols="40" rows="5"></textarea>
  
  SUBMIT.
  
  <script>
  
    var jsonmap = ' @Html(mapDescripciones) ';
  	var mapDescripciones = $.parseJSON( jsonmap ); 
  	
  	//for (var key in mapDescripciones) {
    //console.log(key + ': ' + mapDescripciones[key]);
	//}
  
    $("#experimentID").on('change', function() {
      //var txt = $(this).find('option:selected').data('price');
      var expID = $(this).find('option:selected').text();
      $("#descripcion").text( mapDescripciones[ expID ] );
    });
  
  
  </script>
}
